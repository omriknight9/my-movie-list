let cinematicType,selectedDiv,lastChar,searchVal,marvelMovies=[],dcMovies=[],valiantMovies=[],otherMovies=[],animationMovies=[],tvShows=[],ultraMovies=[],counter=1,marvelCinematicCounter=1,dcCinematicCounter=1,marvelCounter=1,DCCounter=1,valiantCounter=1,othersCounter=1,animationCounter=1,mcuWasSorted=!1,dceuWasSorted=!1;function hasClass(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")}function addClass(e,t){hasClass(e,t)||(e.className+=" "+t)}function removeClass(e,t){var a=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(e,t)){for(;a.indexOf(" "+t+" ")>=0;)a=a.replace(" "+t+" "," ");e.className=a.replace(/^\s+|\s+$/g,"")}}function toggleClass(e,t){var a=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(e,t)){for(;a.indexOf(" "+t+" ")>=0;)a=a.replace(" "+t+" "," ");e.className=a.replace(/^\s+|\s+$/g,"")}else e.className+=" "+t}function showResult(e,t,a,n,o){for(let i=0;i<$(a).length;i++){let r,s,l=$($(a)[i]).find($(".name")).html(),c=$($(a)[i]).find(t).attr("src"),u=searchVal.charAt(0).toUpperCase()+searchVal.slice(1);0==searchVal.length||$(".result").length<1?$("#searchResults").hide():$("#searchResults").show();try{r=capitalize(l),s=capitalize(u)}catch(e){return}if(r.includes(s)||r.includes(s.toLowerCase())){let t=$("<div>",{class:"result",resultType:o,movieNum:n,click:function(){switch($(this).attr("resultType")){case"1":e="#marvelContainer .movieWrapper";break;case"2":e="#dcContainer .movieWrapper";break;case"3":e="#valiantContainer .movieWrapper";break;case"4":e="#othersContainer .movieWrapper";break;case"5":e="#animationContainer .movieWrapper";break;case"6":e="#ultraContainer .movieWrapper"}let t=this;$.each($(e),function(e,a){$(t).attr("movieNum")==$(this).attr("numId")&&($("body").css("pointer-events","none"),goToResult(selectedDiv=this),$("#movieDetails").addClass("animated"),$(selectedDiv).find($(".movieImg")).css({border:"0 solid black"}).animate({borderWidth:6},500),setTimeout(function(){$(selectedDiv).find($(".movieImg")).css({border:"0 solid black"}).animate({borderWidth:0},500),$("#movieDetails").removeClass("animated")},2500),$("#searchResults").hide(),$("#search").val(""),setTimeout(function(){$(selectedDiv).click(),$("body").css("pointer-events","all")},1500))})}}).appendTo($("#searchResults")),a=$("<div>",{class:"resultImgWrapper"}).appendTo(t);$("<img>",{class:"resultImg",src:c}).appendTo(a),$("<p>",{class:"resultName",text:r}).appendTo(t)}}}function capitalize(e){e=e.split(" ");for(let t=0;t<e.length;t++)e[t]=e[t][0].toUpperCase()+e[t].substr(1);return e.join(" ")}function loadJson(){var e=new Promise(function(e){e(getInfo("marvel",marvelMovies,"marvelMovie",$("#marvelContainer"),1))});e.then(function(){getInfo("dc",dcMovies,"dcMovie",$("#dcContainer"),2)}),e.then(function(){getInfo("valiant",valiantMovies,"valiantMovie",$("#valiantContainer"),3)}),e.then(function(){getInfo("others",otherMovies,"otherMovie",$("#othersContainer"),4)}),e.then(function(){getInfo("animation",animationMovies,"animationMovie",$("#animationContainer"),5)}),e.then(function(){$.get("./lists/tvShows.txt",function(e){tvShows.push(JSON.parse(e)),buildTvShow("tvShow",$("#tvShowContainer"),tvShows)})}),e.then(function(){getInfo("4k",ultraMovies,"ultraMovie",$("#ultraContainer"),6)})}function getInfo(e,t,a,n,o){$.get("./lists/"+e+".txt",function(e){t.push(JSON.parse(e)),buildMovies(a,n,t,o)})}function goToDiv(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})}function goToResult(e){$(window).width(),$("html, body").animate({scrollTop:$(e).offset().top-150},1e3),setTimeout(function(){$("html, body").animate({scrollTop:$(window).scrollTop()+10})},2e3)}function buildMovies(e,t,a,n){$("#trailerVideo").attr("src","");let o,i,r,s,l,c,u,d,m,p,h,v=a[0].movies;switch(n){case 1:o="Marvel",i="marvelBtn",r="btnMCU",s="MCU Only",l="Non MCU",c="btnAllMarvel",u="All Marvel",d=$("#marvelContainer"),m=".marvelMovie",p="mcu",h="lineMarvel";break;case 2:o="DC",i="dcBtn",r="btnDCEU",s="DCEU Only",l="Non DCEU",c="btnAllDC",u="All DC",d=$("#dcContainer"),m=".dcMovie",p="dceu",h="lineDc";break;case 3:o="Valiant",i="valiantBtn",d=$("#valiantContainer"),h="lineValiant";break;case 4:o="Others",i="othersBtn",d=$("#othersContainer"),h="lineOthers";break;case 5:o="Animations",i="animationBtn",d=$("#animationContainer"),h="lineAnimation";break;case 6:o="4K Movies",i="ultraBtn",d=$("#ultraContainer"),h="lineUltra"}$("<h2>",{class:"typeheader",text:o}).appendTo(t);let C=$("<div>",{class:"line "+h}).appendTo(t),f=($("<span>",{class:"headerLogo"}).appendTo(C),$("<div>",{class:"moviesContent"}).appendTo(t));if(6!==n&&3!==n){let e=$("<div>",{class:"btnWrapper"}).appendTo(f),t=$("<div>",{class:"sortContainer"}).appendTo(e),a=$("<div>",{class:"sortContent"}).appendTo(t);$("<button>",{class:i,text:"Sort",click:function(){sort($(this).parent().parent(),n)}}).appendTo(e),$("<button>",{class:i,text:"By Date",click:function(){sortMovies(d,"date",1)}}).appendTo(a),$("<button>",{class:i,text:"By Name",click:function(){sortMovies(d,"name",2)}}).appendTo(a),$("<button>",{class:i,text:"By Runtime",click:function(){sortMovies(d,"runtime",4)}}).appendTo(a);if(1==n||2==n)$("<button>",{class:i,id:r,text:s,click:function(){1==n?(cinematicType=1,1==marvelCinematicCounter?(showCinematicUniverse(m,p,mcuWasSorted),marvelCinematicCounter=2,$(this).html(l)):(hideCinematicUniverse(m,p,mcuWasSorted),marvelCinematicCounter=1,$(this).html(s))):2==n&&(cinematicType=2,1==dcCinematicCounter?(showCinematicUniverse(m,p,dceuWasSorted),dcCinematicCounter=2,$(this).html(l)):(hideCinematicUniverse(m,p,dceuWasSorted),dcCinematicCounter=1,$(this).html(s))),$(".sortContainer").fadeOut("fast"),marvelCounter=1,DCCounter=1,valiantCounter=1,othersCounter=1,animationCounter=1}}).appendTo(e),$("<button>",{class:i,id:c,text:u,click:function(){1==n?allOfKind(m,mcuWasSorted):2==n&&allOfKind(m,dceuWasSorted)}}).appendTo(e)}for(let t=0;t<v.length;t++){let a,o=new Date(v[t].date),i=o.getDate(),r=o.getMonth()+1,s=o.getFullYear();i=i<10?"0"+i:i,r=r<10?"0"+r:r,a=(a=(a=(a=v[t].name.replace(/'/,"")).replace(/-/,"")).replace(/:/,"")).replace(/\s/g,"");let l=i+"/"+r+"/"+s,c=$("<div>",{numId:v[t].id,class:"movieWrapper "+e,name:a,quality:v[t].quality,imdbId:v[t].imdbId,runtime:v[t].runtime,trailer:v[t].trailer,date:v[t].date,mcu:v[t].mcu,dceu:v[t].dceu,value:v[t].value,click:function(){switch($("#movieCover").attr("src",$(this).find(".movieImg").attr("src")),$(".movieRuntimePop").html("Runtime: "+convertMinsToHrsMins($(this).attr("runtime"))),$(".movieNamePop").html($(this).find($(".name")).html()),$(".movieQualityPop").html("Quality: "+$(this).attr("quality")),$("#movieImdbLink").attr("href","https://www.imdb.com/title/"+$(this).attr("imdbId")),$("#moviePopcornLink").attr("href","https://omriknight9.github.io/omris-movies/?title="+$(this).attr("name")+"&value="+$(this).attr("value")),$("#trailerVideo").attr("src","https://www.youtube.com/embed/"+$(this).attr("trailer")),$("#movieDetails").fadeIn(150),n){case 1:$(".popupBtn").css("background-color","#e62429");break;case 2:$(".popupBtn").css("background-color","#0282f9");break;case 3:$(".popupBtn").css("background-color","rgba(100, 100, 255, .9)");break;case 4:$(".popupBtn").css("background-color","rgba(100, 200, 100, .9)");break;case 5:$(".popupBtn").css("background-color","rgba(200, 200, 100, .9)");break;case 6:$(".popupBtn").css("background-color","rgba(0, 204, 255, .9)")}$("#movieYoutubeImage").click(function(){$("#movieDetails").hide(),$("#trailer").fadeIn(150),setTimeout(function(){$("#trailerVideo").attr("src",$("#trailerVideo").attr("src").replace("?autoplay=1&amp;rel=0&enablejsapi=1","")),$("#trailerVideo").attr("src",$("#trailerVideo").attr("src")+"?autoplay=1&amp;rel=0&enablejsapi=1")},500)})}}).appendTo(f);new Date(v[t].date),$("<img>",{class:"movieImg",alt:"movieImg",src:"./images/movies/"+v[t].image}).appendTo(c),$("<p>",{class:"name",text:v[t].name}).appendTo(c),$("<p>",{class:"date",text:l}).appendTo(c)}}function sort(e,t){switch($.each($(".sortContainer"),function(e,t){$(this).fadeOut("fast")}),t){case 1:1==marvelCounter?($(e).find($(".sortContainer")).fadeIn("fast"),marvelCounter=2,DCCounter=1,valiantCounter=1,othersCounter=1,animationCounter=1):($(e).find($(".sortContainer")).fadeOut("fast"),marvelCounter=1);break;case 2:1==DCCounter?($(e).find($(".sortContainer")).fadeIn("fast"),DCCounter=2,marvelCounter=1,valiantCounter=1,othersCounter=1,animationCounter=1):($(e).find($(".sortContainer")).fadeOut("fast"),DCCounter=1);break;case 3:1==valiantCounter?($(e).find($(".sortContainer")).fadeIn("fast"),valiantCounter=2,marvelCounter=1,DCCounter=1,valiantCounter=1,othersCounter=1,animationCounter=1):($(e).find($(".sortContainer")).fadeOut("fast"),valiantCounter=1);break;case 4:1==othersCounter?($(e).find($(".sortContainer")).fadeIn("fast"),othersCounter=2,marvelCounter=1,valiantCounter=1,DCCounter=1,animationCounter=1):($(e).find($(".sortContainer")).fadeOut("fast"),othersCounter=1);break;case 5:1==animationCounter?($(e).find($(".sortContainer")).fadeIn("fast"),animationCounter=2,marvelCounter=1,valiantCounter=1,DCCounter=1,othersCounter=1):($(e).find($(".sortContainer")).fadeOut("fast"),animationCounter=1)}}function buildTvShow(e,t,a){$("#trailerVideo").attr("src","");let n=a[0].tvShows,o=($("<h2>",{class:"typeheader",text:"TV Shows"}).appendTo(t),$("<div>",{class:"line lineTvShows"}).appendTo(t)),i=($("<span>",{class:"headerLogo"}).appendTo(o),$("<div>",{id:"tvShowContent"}).appendTo(t));for(let t=0;t<n.length;t++){let a;a=(a=(a=(a=n[t].name.replace(/'/,"")).replace(/-/,"")).replace(/:/,"")).replace(/\s/g,"");let o=$("<div>",{numId:n[t].id,class:"tvShowWrapper "+e,year:n[t].year,name:a,quality:n[t].quality,imdbId:n[t].imdbId,seasons:n[t].seasons,episodes:n[t].episodes,trailer:n[t].trailer,click:function(){$("#tvShowCover").attr("src",$(this).find(".tvShowImg").attr("src")),$(".tvShowSeasonsPop").html("Seasons: "+$(this).attr("seasons")),$(".tvShowEpisodesPop").html("Episodes: "+$(this).attr("episodes")),$(".tvShowNamePop").html($(this).find($(".name")).html()),$(".tvShowQualityPop").html("Quality: "+$(this).attr("quality")),$("#tvShowImdbLink").attr("href","https://www.imdb.com/title/"+$(this).attr("imdbId")),$("#trailerVideo").attr("src","https://www.youtube.com/embed/"+$(this).attr("trailer")),$("#tvShowDetails").fadeIn(150),$(".popupBtn").css("background-color","#D67B6E"),$("#tvShowYoutubeImage").click(function(){$("#tvShowDetails").hide(),$("#trailer").fadeIn(150),setTimeout(function(){$("#trailerVideo").attr("src",$("#trailerVideo").attr("src").replace("?autoplay=1&amp;rel=0&enablejsapi=1","")),$("#trailerVideo").attr("src",$("#trailerVideo").attr("src")+"?autoplay=1&amp;rel=0&enablejsapi=1")},500)})}}).appendTo(i);$("<img>",{class:"tvShowImg",alt:"tvShowImg",src:"./images/"+n[t].image}).appendTo(o),$("<p>",{class:"name",text:n[t].name}).appendTo(o),$("<p>",{class:"year",text:"Year: "+n[t].year}).appendTo(o)}}function showCinematicUniverse(e,t,a){for(let a=0;a<$(e).length;a++)$($(e)[a]).show(),"false"==$($(e)[a]).attr(t)&&$($(e)[a]).hide();for(let t=0;t<$(e).length;t++){let a=$($($(e)[t]).parent())[0];0==$(a).children(":visible").length?$(a).css("padding-bottom",0):$(a).css("padding-bottom","2rem")}}function hideCinematicUniverse(e,t,a){for(let a=0;a<$(e).length;a++)$($(e)[a]).show(),"true"==$($(e)[a]).attr(t)&&$($(e)[a]).hide();for(let t=0;t<$(e).length;t++){let a=$($($(e)[t]).parent())[0];0==$(a).children(":visible").length?$(a).css("padding-bottom",0):$(a).css("padding-bottom","2rem")}}function allOfKind(e,t){for(let t=0;t<$(e).length;t++){let a=$($($(e)[t]).parent())[0];switch($(a).css("padding-bottom","2rem"),$($(e)[t]).show(),cinematicType){case 1:marvelCinematicCounter=1,$("#btnMCU").html("MCU Only");break;case 2:dcCinematicCounter=1,$("#btnDCEU").html("DCEU Only")}}$(".sortContainer").fadeOut("fast"),marvelCounter=1,DCCounter=1,valiantCounter=1,othersCounter=1,animationCounter=1}function goToTop(){$("html,body").animate({scrollTop:0},1e3)}function scrollBtn(){$(this).scrollTop()>550?$("#goToTopBtn").fadeIn():$("#goToTopBtn").fadeOut()}function sortMovies(e,t,a){let n,o=$(e).find($(".btnWrapper"));$(o).attr("kind")==a||($(o).attr("kind",a),counter=1),3==a&&($("#marvelContainer").empty(),$("#dcContainer").empty(),$("#valiantContainer").empty(),$("#othersContainer").empty(),$("#animationContainer").empty(),$("#tvShowContainer").empty(),mcuWasSorted=!1,dceuWasSorted=!1),$.each($(e),function(i,r){let s,l,c,u=[];for(l=0,c=(n="tvShowContainer"==$(e).attr("id")?$(this).find(".tvShowWrapper"):$(this).find(".movieWrapper")).length;l<c;l++){(s={}).element=n[l];let e=$(n[l]).attr(t);switch(a){case 1:s.idNum=new Date(e);break;case 2:s.idNum=e;break;case 3:case 4:s.idNum=parseInt(e.replace(/[^\d]/g,""),10)}u.push(s)}switch(a){case 1:switch(counter){case 1:u.sort(function(e,t){return e.idNum-t.idNum}),counter=2;break;case 2:u.sort(function(e,t){return t.idNum-e.idNum}),counter=1}$(o).attr("kind",a),mcuWasSorted=!0,dceuWasSorted=!0;break;case 2:switch(counter){case 1:u.sort(function(e,t){return e.idNum>t.idNum?1:-1}),counter=2;break;case 2:u.sort(function(e,t){return e.idNum<t.idNum?1:-1}),counter=1,mcuWasSorted=!0,dceuWasSorted=!0}$(o).attr("kind",a);break;case 3:switch($(".spinnerWrapper").show(),$(e).attr("id")){case"marvelContainer":setTimeout(function(){$("#marvel").click()},1200);break;case"dcContainer":setTimeout(function(){$("#dc").click()},1200);break;case"valiantContainer":setTimeout(function(){$("#valiant").click()},1200);break;case"othersContainer":setTimeout(function(){$("#others").click()},1200);break;case"animationContainer":setTimeout(function(){$("#disney").click()},1200)}loadJson(),setTimeout(function(){$(".spinnerWrapper").hide()},500);break;case 4:switch(counter){case 1:u.sort(function(e,t){return e.idNum>t.idNum?1:-1}),counter=2;break;case 2:u.sort(function(e,t){return e.idNum<t.idNum?1:-1}),counter=1,mcuWasSorted=!0,dceuWasSorted=!0}$(o).attr("kind",a)}for(l=0;l<u.length;l++)$(this).append(u[l].element)}),$(".sortContainer").fadeOut("fast"),marvelCounter=1,DCCounter=1,valiantCounter=1,othersCounter=1,animationCounter=1}function removePopup(e){$(document).mouseup(function(t){e.is(t.target)&&0===e.has(t.target).length&&(e.hide(),t.stopPropagation(),$(document).off("mouseup"))})}function closeCurrentPopup(e){$($(e)[0].parentElement.parentElement.parentElement).hasClass("animated")&&$(selectedDiv).css({border:"0 solid black"}).animate({borderWidth:0},200),$($(e)[0].parentElement.parentElement.parentElement).fadeOut(150)}function convertMinsToHrsMins(e){let t=Math.floor(e/60),a=e%60;return a=a<10?""+a:a,(t=t<10?""+t:t)>1?0==a?t+" Hours":t+" Hours And "+a+" Minutes":0==a?t+" Hour":t+" Hour And "+a+" Minutes"}$(document).ready(function(e){loadJson(),window.onbeforeunload=function(){window.scrollTo(0,0)},window.onscroll=function(){scrollBtn()},$(".Xbtn").click(function(){$($(this).parent().parent()).hasClass("animated")&&$(selectedDiv).css({border:"0 solid black"}).animate({borderWidth:0},200),$(this).parent().parent().fadeOut(150),$("#trailerVideo").attr("src","")}),setTimeout(function(){$(".spinnerWrapper").hide(),$(".searchContainer").show(),$("button").show(),$(".container").css("display","flex")},500),$("#search").on("input",function(){let e;searchVal=$("#search").val()," "!=(lastChar=searchVal.substr(searchVal.length-1))&&($("#searchResults").empty(),$.each($(".tvShowWrapper"),function(e,t){let a=$(t).attr("numId");showResult($(".tvShowWrapper"),$(".tvShowImg"),$(this),a)}),$.each($(".movieWrapper"),function(t,a){let n=$(a).attr("numId");$(a).hasClass("marvelMovie")?e=1:$(a).hasClass("dcMovie")?e=2:$(a).hasClass("valiantMovie")?e=3:$(a).hasClass("otherMovie")?e=4:$(a).hasClass("animationMovie")?e=5:$(a).hasClass("ultraMovie")&&(e=6),showResult($(".movieWrapper"),$(".movieImg"),$(this),n,e)}))})});
